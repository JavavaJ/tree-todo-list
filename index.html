<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tree-Structured To-Do List</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🌳 Tree To-Do List</h1>
            <p>Organize your tasks with hierarchical structure and visual progress tracking</p>
        </div>
        
        <div class="todo-container">
            <div id="taskList">
                <!-- Tasks will be dynamically generated here -->
            </div>
            <button class="add-task-btn" onclick="showAddTaskModal()">+ Add New Task</button>
        </div>
    </div>

    <!-- Add Task Modal -->
    <div id="addTaskModal" class="modal-overlay">
        <div class="modal-popup">
            <div class="modal-header">
                <h2>🎯 Add New Task</h2>
                <p>Create a new task with unlimited nested subtasks</p>
            </div>
            
            <form id="addTaskForm">
                <div class="form-group">
                    <label for="taskTitle">Task Title *</label>
                    <input type="text" id="taskTitle" class="form-input" placeholder="Enter task title..." required>
                </div>
                
                <div class="checkbox-group">
                    <input type="checkbox" id="useWeightedProgress" onchange="toggleWeightedProgress()">
                    <label for="useWeightedProgress">Use time-based progress (assign time estimates)</label>
                </div>
                
                <div id="taskWeightSection" class="form-group" style="display: none;">
                    <label for="taskWeight">Estimated Time (minutes)</label>
                    <input type="number" id="taskWeight" class="form-input" placeholder="Enter estimated time in minutes..." min="1">
                </div>
                
                <div class="checkbox-group">
                    <input type="checkbox" id="hasSubtasks" onchange="toggleSubtasksSection()">
                    <label for="hasSubtasks">Add nested subtasks to this task</label>
                </div>
                
                <div id="subtasksSection" class="subtasks-section" style="display: none;">
                    <h4>Nested Subtasks:</h4>
                    <p style="font-size: 0.9em; color: #666; margin-bottom: 15px;">Use the + button next to each subtask to add nested sub-items</p>
                    <div id="subtasksList">
                        <!-- Subtask inputs will be added here -->
                    </div>
                    <button type="button" class="add-subtask-btn" onclick="addSubtaskInput()">+ Add Subtask</button>
                </div>
                
                <div class="modal-buttons">
                    <button type="button" class="modal-btn secondary" onclick="closeAddTaskModal()">Cancel</button>
                    <button type="submit" class="modal-btn primary">Create Task</button>
                </div>
            </form>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/uuid/8.3.2/uuid.min.js"></script>
    <script src="script.js"></script>
</body>
</html> 